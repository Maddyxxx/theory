**–î–ª—è —Å—Ç–∞—Ä—Ç–∞:** go test + Delve + Staticcheck

**–î–ª—è enterprise:** GolangCI-Lint + Testify + pprof

**–î–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤:**  GoReplay –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏

# –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ—Ç–ª–∞–¥–∫–∏ (Debugging)
------------- 

## Delve (dlv)
------------- 
- –ó–æ–ª–æ—Ç–æ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –æ—Ç–ª–∞–¥–∫–∏ Go-–ø—Ä–æ–≥—Ä–∞–º–º

- –ª—É—á—à–µ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –ø–æ—à–∞–≥–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ —Å–ª–æ–∂–Ω—ã—Ö –±–∞–≥–æ–≤

–ü–æ–¥–¥–µ—Ä–∂–∫–∞:
- –ü–æ—à–∞–≥–æ–≤–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (step-in/step-out)
- –¢–æ—á–µ–∫ –æ—Å—Ç–∞–Ω–æ–≤–∞ (breakpoints)
- –ê–Ω–∞–ª–∏–∑–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Å—Ç–µ–∫–∞ –≤—ã–∑–æ–≤–æ–≤

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞:
```
bash
dlv debug ./main.go
break main.main
continue
```

## GDB (GNU Debugger)
-------------
- –†–∞–±–æ—Ç–∞–µ—Ç —Å Go —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø–ª–∞–≥–∏–Ω
- –ú–µ–Ω–µ–µ —É–¥–æ–±–µ–Ω, —á–µ–º Delve, –Ω–æ –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–π –æ—Ç–ª–∞–¥–∫–∏

## pprof (–ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ)
-------------
–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ CPU
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏
- –ë–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –≥–æ—Ä—É—Ç–∏–Ω

- –ª—É—á—à–µ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–ü—Ä–∏–º–µ—Ä:

```
import _ "net/http/pprof"
go func() { http.ListenAndServe(":6060", nil) }()
```
–ê–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑:
```
bash
go tool pprof http://localhost:6060/debug/pprof/heap
```

# –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
------------- 
## –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π testing –ø–∞–∫–µ—Ç
-------------
–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è unit-—Ç–µ—Å—Ç–æ–≤

–ü—Ä–∏–º–µ—Ä:
```
func TestAdd(t *testing.T) {
    if Add(2, 3) != 5 {
        t.Error("–û–∂–∏–¥–∞–ª–æ—Å—å 5")
    }
}
```
–ó–∞–ø—É—Å–∫:
```
bash
go test -v ./...
```

## Testify (stretchr/testify)
-------------
- –ü–æ–ø—É–ª—è—Ä–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤:
- –£–¥–æ–±–Ω—ã–µ –∞—Å—Å–µ—Ä—Ç—ã (assert.Equal(t, 5, result))
- –ú–æ–∫–∏ (mock.Mock)
- –ù–∞–±–æ—Ä—ã —Ç–µ—Å—Ç–æ–≤ (suites)

- –ª—É—á—à–µ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: —á–∏—Ç–∞–µ–º—ã–µ –∞—Å—Å–µ—Ä—Ç—ã –∏ –º–æ–∫–∏

## GoMock (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –º–æ–∫–∏–Ω–≥)
-------------
- –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º–æ–∫-–æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

–ü—Ä–∏–º–µ—Ä:
```
bash
mockgen -source=repository.go > mocks/repository_mock.go
```

## Ginkgo/Gomega (BDD-—Å—Ç–∏–ª—å)
-------------
–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é:

```
go
Describe("Calculator", func() {
    It("should add numbers", func() {
        Expect(Add(2, 3)).To(Equal(5))
    })
})
```

#  –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
------------- 

## Staticcheck
-------------
–ù–∞—Ö–æ–¥–∏—Ç –±–æ–ª–µ–µ 200 –≤–∏–¥–æ–≤ –æ—à–∏–±–æ–∫:
- –£—Ç–µ—á–∫–∏ –≥–æ—Ä—É—Ç–∏–Ω
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API
- –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

- –ª—É—á—à–µ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –ø–æ–∏—Å–∫ —Å–∫—Ä—ã—Ç—ã—Ö –æ—à–∏–±–æ–∫

–ü—Ä–∏–º–µ—Ä:

```
bash
staticcheck ./...
```

## GolangCI-Lint
-------------
- –ê–≥—Ä–µ–≥–∞—Ç–æ—Ä –ª–∏–Ω—Ç–µ—Ä–æ–≤ (–æ–±—ä–µ–¥–∏–Ω—è–µ—Ç 50+ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ CI/CD
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ .golangci.yml

- –ª—É—á—à–µ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

## errcheck
-------------
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏:
```
go
json.Unmarshal(data, &obj) // errcheck –ø–æ–π–º–∞–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—à–∏–±–∫–∏
```

# –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –±–µ–Ω—á–º–∞—Ä–∫–∏–Ω–≥–∞
-------------

## –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –±–µ–Ω—á–º–∞—Ä–∫–∏–Ω–≥
-------------
```
go
func BenchmarkAdd(b *testing.B) {
    for i := 0; i < b.N; i++ {
        Add(2, 3)
    }
}
```
–ó–∞–ø—É—Å–∫:
```
bash
go test -bench=. -benchmem
```

## pprof + benchviz
-------------
–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
```
bash
go test -bench=. -cpuprofile=cpu.out
go tool pprof -svg cpu.out > cpu.svg
```

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
-------------

## GoReplay (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏)
-------------
–ó–∞–ø–∏—Å—å –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞

## Docker + Go
-------------
–û—Ç–ª–∞–¥–∫–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö:
```
dockerfile
FROM golang:latest
RUN go install github.com/go-delve/delve/cmd/dlv@latest
```

## VS Code + Go Plugin
-------------
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ IDE:
- –ê–≤—Ç–æ–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫–æ–¥–∞
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –¥–µ–±–∞–≥–≥–µ—Ä (Delve)
- –õ–∏–Ω—Ç–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏


### **–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç–∏**

**1. –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã** (–Ω–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã).
- **–ò–Ω–≤–µ—Ä—Å–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (DIP)** ‚Äî –º–æ–¥—É–ª–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π.
- **–õ–µ–≥–∫–∞—è –∑–∞–º–µ–Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –º–æ–∫–∞–º–∏ –≤ —Ç–µ—Å—Ç–∞—Ö**.

---

### **2. –ü—Ä–∏–º–µ—Ä: —Å–µ—Ä–≤–∏—Å –æ–ø–ª–∞—Ç—ã –∑–∞–∫–∞–∑–∞**

#### **üîπ –®–∞–≥ 1: –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
–î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å `PaymentGateway` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π:

```go
// payment_gateway.go
type PaymentGateway interface {
    Charge(amount float64, cardToken string) (string, error)
}
```

#### **üîπ –®–∞–≥ 2: –†–µ–∞–ª–∏–∑—É–µ–º —Ä–µ–∞–ª—å–Ω—ã–π –∏ –º–æ–∫-—Å–µ—Ä–≤–∏—Å**

**–†–µ–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (Stripe API):**
```go
// stripe_gateway.go
type StripeGateway struct{}

func (s *StripeGateway) Charge(amount float64, cardToken string) (string, error) {
    // –†–µ–∞–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ Stripe API
    return "charge_id", nil
}
```

**–ú–æ–∫ (–¥–ª—è —Ç–µ—Å—Ç–æ–≤):**  
–ò—Å–ø–æ–ª—å–∑—É–µ–º `testify/mock`:
```go
// mock_gateway.go
type MockGateway struct {
    mock.Mock
}

func (m *MockGateway) Charge(amount float64, cardToken string) (string, error) {
    args := m.Called(amount, cardToken) // –ó–∞–ø–∏—Å—å –≤—ã–∑–æ–≤–∞
    return args.String(0), args.Error(1)
}
```

---

#### **üîπ –®–∞–≥ 3: –°–µ—Ä–≤–∏—Å –∑–∞–∫–∞–∑–∞ —Å –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**

```go
// order_service.go
type OrderService struct {
    paymentGateway PaymentGateway // –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
}

func (s *OrderService) ProcessOrder(amount float64, cardToken string) error {
    _, err := s.paymentGateway.Charge(amount, cardToken)
    if err != nil {
        return fmt.Errorf("payment failed: %w", err)
    }
    return nil
}
```

---

### **3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –º–æ–∫–∞–º–∏**

#### **üîπ –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞ (testify/mock)**
```go
func TestOrderService_ProcessOrder(t *testing.T) {
    // 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –º–æ–∫
    mockGateway := new(MockGateway)
    service := &OrderService{paymentGateway: mockGateway}

    // 2. –ó–∞–¥–∞—ë–º –æ–∂–∏–¥–∞–µ–º—ã–π –≤—ã–∑–æ–≤ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    mockGateway.On("Charge", 100.0, "test_token").Return("charge_123", nil)

    // 3. –í—ã–∑—ã–≤–∞–µ–º —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–π –º–µ—Ç–æ–¥
    err := service.ProcessOrder(100.0, "test_token")

    // 4. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ:
    assert.NoError(t, err)                          // –ù–µ—Ç –æ—à–∏–±–∫–∏
    mockGateway.AssertExpectations(t)               // –ú–µ—Ç–æ–¥ –≤—ã–∑–≤–∞–Ω —Å –Ω—É–∂–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏
}
```

#### **üîπ –ü—Ä–∏–º–µ—Ä —Å `gomock`**
1. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –º–æ–∫:
   ```bash
   mockgen -source=payment_gateway.go -destination=mocks/payment_gateway_mock.go
   ```
2. –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤ —Ç–µ—Å—Ç–µ:
   ```go
   func TestProcessOrder(t *testing.T) {
       ctrl := gomock.NewController(t)
       defer ctrl.Finish()

       mockGateway := NewMockPaymentGateway(ctrl)
       mockGateway.EXPECT().
           Charge(100.0, "test_token").
           Return("charge_123", nil)

       service := &OrderService{paymentGateway: mockGateway}
       err := service.ProcessOrder(100.0, "test_token")
       assert.NoError(t, err)
   }
   ```

---

### **4. –í—ã–≥–æ–¥—ã —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞**

‚úÖ **–ò–∑–æ–ª—è—Ü–∏—è —Ç–µ—Å—Ç–æ–≤**:
- –ú–æ–∫–∏ –∑–∞–º–µ–Ω—è—é—Ç –ë–î, API –∏ –¥—Ä—É–≥–∏–µ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã.
- –¢–µ—Å—Ç—ã –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Å–µ—Ç–∏/—Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.

‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å**:
- –ú–æ–∂–Ω–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é `PaymentGateway` –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è `OrderService`.

‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π**:
- –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ –º–µ—Ç–æ–¥—ã –≤—ã–∑—ã–≤–∞—é—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏.

---

### **5. –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è—Ç—å?**
- **–í–Ω–µ—à–Ω–∏–µ API** (–ø–ª–∞—Ç–µ–∂–∏, SMS, email).
- **–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** (–º–æ–∫–∏—Ä—É–µ–º `sql.DB`).
- **–°–ª–æ–∂–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è** (–∑–∞–º–µ–Ω—è–µ–º –Ω–∞ —Å—Ç–∞–±—ã).

**–ò—Ç–æ–≥**: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã + –º–æ–∫–∏ = **—á–∏—Å—Ç—ã–π, —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–π –∏ –≥–∏–±–∫–∏–π –∫–æ–¥**. üöÄ